

#### 作业

1，报错注入函数中除了Extractvalue，和Updatexml还有什么，要求实验一次。

![image-20250304214454685](https://gitee.com/PUqicnda/img/raw/master/20250304214454723.png)

![image-20250304214559783](https://gitee.com/PUqicnda/img/raw/master/20250304214559821.png)

其他：floor()函数;rand()函数;count()函数;

**floor函数报错注入：**

​	返回小于等于该值的最大整数,也可以理解为向下取整，只保留整数部分。

**rand函数:**

​	rand()函数可以用来生成0或1，但是rand(0)和rand()还是有本质区别的，rand(0)相当于给rand()函数传递了一个参数，然后rand()函数会根据0这个参数进行随机数成成。rand()生成的数字是完全随机的，而rand(0)是有规律的生成。

**count()函数;**

​	count(x)返回数据集x的数量。

![image-20250304214634618](https://gitee.com/PUqicnda/img/raw/master/20250304214634646.png)

2，如果mysql版本小于5.0，没有information_schema该如何去做？

报错注入，或者盲注，



3，php哪些函数支持堆叠注入

在PHP中，堆叠注入（Stacked Queries）或称为堆叠查询，通常指的是在一个**单一的SQL语句中嵌入多个查询**，通过在SQL语句的分隔符（通常是分号`;`）之间插入额外的SQL命令来实现。这种攻击方式可以被用于执行未授权的数据库操作，例如读取敏感数据、修改数据或执行任意代码。

堆叠注入本身不是一个独立的PHP函数，而是通过构造特定的SQL语句来实现的。

**`mysqli_multi_query()`**

- 该函数允许执行多条 SQL 语句，容易受到堆叠注入攻击。

  ```
  $mysqli = new mysqli("localhost", "user", "password", "database");
  $query = "SELECT * FROM users; DROP TABLE users;";
  $mysqli->multi_query($query);
  ```

**`PDO::exec()`**

- 如果启用了 `PDO::ATTR_EMULATE_PREPARES`，`PDO::exec()` 可能执行多条语句。

  ```
  $pdo = new PDO("mysql:host=localhost;dbname=database", "user", "password");
  $query = "SELECT * FROM users; DROP TABLE users;";
  $pdo->exec($query);
  ```

  

4.sql完成靶场搭建，Less-38，Less-5，Less-6，Less-8，Less-9，Less-1，Less-2




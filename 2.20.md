# 2.20

## http协议

运行在tcp之上应用层协议，是人类直接可以看懂的

**注意**：每个请求标签头中只能出现一个回车换行符

**头与正文之间隔一行**

![image-20250221141246241](https://cdn.jsdelivr.net/gh/Pugeet/Picture/image/202502211412299.png)

请求方法

GET、POST、HAED



![image-20250221143510676](https://cdn.jsdelivr.net/gh/Pugeet/Picture/image/202502211435714.png)

![image-20250221143555146](https://cdn.jsdelivr.net/gh/Pugeet/Picture/image/202502211435197.png)



#### 各个请求头的含义：

**AcceptCharset** 是一个用来指定客户端接受的字符集编码方式的标头。它用于告诉服务器客户端能够接受哪些字符集编码。服务器可以使用这个信息来决定如何编码响应数据。

 **AcceptEncoding** 表示Http响应是否进行压缩，但是这个只是协议，只能是要求而不是强制的，如果服务器不支持压缩或 者没有开启压缩，则不能起到作用 

**AcceptLanguage** 用于告知服务器客户端（例如浏览器）偏好哪些语言，以便服务器能够根据客户端的语言偏好返回合适 的内容。

 **Authorization** 用于向服务器提供客户端的身份验证信息。它通常用于访问需要身份验证的资源。





### GET请求

**通过URL传递数据**，只有报文头，没有正文，但是响应包有头和正文？（相应包不一定需要有正文）

![image-20250221143642892](https://cdn.jsdelivr.net/gh/Pugeet/Picture/image/202502211436939.png)

> ### 3.2. 优缺点
>
> `GET` 请求的优点包括：
>
> - 可以被缓存和浏览器保存。
> - 对服务器性能的影响较小。
>
> `GET` 请求的缺点包括：
>
> - 不适合用于提交敏感数据。
> - 仅适用于对资源进行查询操作，不能修改服务器端的状态。
>
> ### 3.3. 应用场景
>
> - 获取资源信息。
> - 对资源进行查询操作。

### POST请求

post请求包含get请求

不在get里面传递数据，在报文里面传递数据，从get请求里面获取数据。

可以获取URL中的数据，也可以获取正文中的数据，和GET包相比，必须要有表示数据类型的请求头



> ### 2.2. 优缺点
>
> `POST` 请求的优点包括：
>
> - 可以提交比 `GET` 更大的数据量。
> - 相对更安全，因为请求参数不会被包含在 URL 中。
>
> `POST` 请求的缺点包括：
>
> - 对服务器性能的影响较大。
> - 不适用于对同一资源进行多次操作。
>
> ### 2.3. 应用场景
>
> - 向服务器提交表单数据。
> - 向服务器上传文件。
> - 创建资源或提交数据到服务器。



### HAED请求

**主要用于获取资源的元数据而不返回实际内容。**‌ HEAD请求与[GET请求](https://www.baidu.com/s?rsv_dl=re_dqa_generate&sa=re_dqa_generate&wd=GET请求&rsv_pq=83c4dbac00124435&oq=head请求&rsv_t=b530eHIVuN31yywe6VzKnQ/ZX2y4UfrYyyQMLB7GEFYh6OuMUr62fakS6LUTDZ5OtHAmxg&tn=15007414_9_dg&ie=utf-8)相似，但主要区别在于HEAD请求只返回资源的响应头信息，不包含响应体（即实际的数据内容）。这使得HEAD请求在只需要资源元数据的情况下非常高效，能够节省带宽并提高效率。



### OPTIONS请求

默认情况下会返回**允许的请求类型**

要用于从响应头中获取服务器支持的HTTP请求方式。

（标出来的请求方法不一定可以）

### TRACE请求

**TRACE请求的定义和用途**
TRACE请求是一种用于回显服务器收到的请求的HTTP方法。当客户端发送TRACE请求时，服务器将原始请求报文作为响应返回给客户端，用于检查或调试请求的传输过程。TRACE请求的语法如下：

```php
TRACE /path HTTP/1.1
Host: example.com
```


**TRACE请求的主要用途包括：**

调试：通过回显请求报文，开发人员可以查看请求在传输过程中是否被修改，以及服务器对请求的处理过程。
诊断：TRACE请求可以用于诊断网络问题，例如检查请求是否被正确地转发到目标服务器。
测试：开发人员可以利用TRACE请求测试API的可用性和正确性。



**TRACE请求的实际应用场景**
TRACE请求在Web开发中有着广泛的应用场景。以下是一些实际应用示例：

API测试和调试：开发人员可以使用TRACE请求来测试和调试API的请求和响应，以确保API的正确性和可用性。
请求追踪：TRACE请求可用于跟踪请求的传输过程，帮助开发人员诊断和解决网络问题。
安全审计：TRACE请求可以用于安全审计，帮助检查请求是否被篡改或劫持。



**TRACE请求的安全性风险**
TRACE请求可能带来一些安全风险，主要包括：

敏感信息泄露：由于TRACE请求会回显原始请求报文，其中可能包含敏感信息，如身份验证凭证、Cookie等，如果未经适当保护，可能导致信息泄露。
跨站脚本攻击（XSS）：由于TRACE请求会回显响应内容，如果存在XSS漏洞，攻击者可以通过TRACE请求获取到用户的敏感信息。
请求劫持：TRACE请求可以被恶意用户用来劫持其他用户的请求，从而进行攻击。



**防范TRACE请求的措施**
为了防范TRACE请求的滥用，我们可以采取以下措施：

禁用TRACE请求：在服务器配置中禁用TRACE请求，可以有效防止TRACE请求的滥用。可以通过在服务器配置文件中添加以下配置来禁用TRACE请求：
TraceEnable off
1
过滤敏感信息：在应用程序中，对于包含敏感信息的请求，应该在处理之前进行过滤和处理，确保敏感信息不会被回显或泄露。

输入验证和过滤：对于所有的输入数据，包括请求参数和请求头，都应该进行验证和过滤，以防止恶意输入和攻击。

使用HTTPS协议：使用HTTPS协议进行通信可以加密请求和响应，提高数据的安全性，减少信息泄露的风险。

安全审计和日志记录：定期进行安全审计，记录和分析TRACE请求的使用情况，及时发现异常活动和潜在的安全问题。
------------------------------------------------

                            版权声明：本文为博主原创文章，遵循 CC 4.0 BY-SA 版权协议，转载请附上原文出处链接和本声明。

原文链接：https://blog.csdn.net/lsoxvxe/article/details/132147656



### PUT请求

`PUT` 请求用于向服务器更新指定资源，可以理解为对服务器上的资源进行修改操作。使用 `PUT` 请求方式会覆盖原有的资源内容，因此需要谨慎使用。



> ### 5.2. 优缺点
>
> `PUT` 请求的优点包括：
>
> - 可以更新指定的资源。
>
> `PUT` 请求的缺点包括：
>
> - 对服务器性能的影响较大。
> - 不适用于对同一资源进行多次操作。
>
> ### 5.3. 应用场景
>
> - 更新指定的资源。
> - 按照条件更新一组资源。



### DELETE 请求

`DELETE` 请求用于请求服务器删除指定的资源，可以理解为对服务器上的资源进行删除操作。使用 `DELETE` 方式请求会导致指定的资源被永久删除，因此需要谨慎使用。



> ### 4.2. 优缺点
>
> `DELETE` 请求的优点包括：
>
> - 可以永久删除指定的资源。
>
> `DELETE` 请求的缺点包括：
>
> - 对服务器性能的影响较大。
> - 不适用于对同一资源进行多次操作。
>
> ### 4.3. 应用场景
>
> - 删除指定的资源。
> - 按照条件删除一组资源。



## HTTP状态码

![image-20250221170600997](https://cdn.jsdelivr.net/gh/Pugeet/Picture/image/202502211706051.png)



**状态**

**400**   多半实施自己的请求头出现问题，宠幸抓包访问（控制变量）

**403**  资源存在单无权限访问

**404**   没有该资源、该资源已经被删除

**302，304**  重定向，让浏览器重新访问某个页面

**500**  服务器内部错误

**502**  考虑自身代理是否正常关闭



![image-20250221171543794](https://cdn.jsdelivr.net/gh/Pugeet/Picture/image/202502211715842.png)

![image-20250221171602864](https://cdn.jsdelivr.net/gh/Pugeet/Picture/image/202502211716909.png)

![image-20250221171624186](https://cdn.jsdelivr.net/gh/Pugeet/Picture/image/202502211716225.png)

![image-20250221171513894](https://cdn.jsdelivr.net/gh/Pugeet/Picture/image/202502211715945.png)



君子协定

状态码不可全部相信。



# PHP代码

## PHP是什么？

**是一种广泛使用的开源服务器端[脚本语言](https://www.baidu.com/s?tn=15007414_9_dg&wd=脚本语言&usm=4&ie=utf-8&rsv_pq=de1c2f5c000394fa&oq=PHP是什么&rsv_t=eb66yY%2F%2Bi26gFFYMDyzm3WpJxV4dNYD8Yoda%2FF7hKL3YMPdr1K%2FFYaCcfDvvNN4MoO1yDQ&rsv_dl=re_dqa_generate&sa=re_dqa_generate)，特别适用于[Web开发](https://www.baidu.com/s?tn=15007414_9_dg&wd=Web开发&usm=4&ie=utf-8&rsv_pq=de1c2f5c000394fa&oq=PHP是什么&rsv_t=cb95EpeSNwUSv230Gs3eTOF3QXrYGSMNkG7g%2FXOcvXq2T4fdAqbzi08y5SiOTVwhegKJGA&rsv_dl=re_dqa_generate&sa=re_dqa_generate)**‌。‌

### PHP的定义和用途

PHP**是一种通用开源脚本语言**，特别适用于Web开发。它可以将代码嵌入HTML中，在服务器端执行，并与数据库交互，生成动态网页。PHP语法吸收了C语言、Java和Perl的特点，易于学习和使用。

php**是解释型语言**。

​		边执行边解释，成本较低。速度慢，效果低，语法宽容度高

**编译型**

​		需解释后保存（编译）成本高，速度也快，语法严格



所有的php脚本**默认情况下**都 以 <?php 表示开始 

以 ?>表示结束

```php
<% %>
<?php ?>
<? ?>  在php7之后
<script language=php>    </script>
```

文件给到php解释器，解释器不关注后缀，只关注标签



### 变量

- 不允许以数字开头，不能是纯数字，只允许有下划线，不允许有其他符号，可以是中文和繁体字
- 区分大小写
- $只是变量的标识符
- 在php里边单引号和双引号均可表示字符串
  - 但是单引号里的字符串中不能包含变量。打印不出变量的内容
  - 双引号可以存在变量，可以打印变量的内容。

heard（）；

在php中，布尔值只有0和非0；



#### 数组

数组的下标可以被定义，如未定义则以0开始；

```php
$a= array('one'=>'a','two'=>'b','c')
var_dump($a['one']);  //输出a
var_dump($a[one]);    //a
var_dump($a[0]);    //c
```















### 第四次作业

**查询http报头含义**

![image-20250222095416389](https://cdn.jsdelivr.net/gh/Pugeet/Picture/image/202502220954469.png)

**Trace请求是什么？**

TRACE 是一种 HTTP 请求方法，主要用于诊断和调试。它的作用是让客户端能够查看请求在到达目 标服务器的过程中是否被修改（例如被代理服务器修改）。服务器在收到 TRACE 请求后，会将收到的请 求内容原封不动地返回给客户端。

**各种print的作用**

![image-20250222095525528](https://cdn.jsdelivr.net/gh/Pugeet/Picture/image/202502220955576.png)

如何一次性定义多个变量

```php
$a = 1; $b = 2; $c = 3;
```


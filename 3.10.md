木马是执行远程的数据

思考：存在代码执行的漏洞产品很多，但是为什么杀软检测不出来。

写木马的时候，不要为了写木马而写木马，目的性不要太明显。

接收数据的位置与执行代码的位置非常远，除非特殊构造的调用及内容才会触发漏洞。



**推荐方式、思路：**

二次生成、分离加载（行业里免杀技巧）





静态木马：内存马（一般碰不到）

php引擎-> 内存 

内存马解决方案：内存断电就没了-----重启------断电------解决最快办法。



冰蝎作者的文章。java写的

关注职业打ctf竞赛的，多交流。



# 暴力破解

渗透精髓是暴力破解。

信安精髓是信息收集。

![image-20250310105626484](https://gitee.com/PUqicnda/img/raw/master/20250310105626543.png)

简单来说，暴力破解就是跑字典，一个一个试。

文件密钥、子域名、可以暴力破解





## 暴力破解

#### 优化字典

根据目标：

1. 个人：生日、姓名、手机尾号、身份证尾号、家人的相关信息。

2. 企业：

   1. 工号、姓名、初始密码、公司名称、高管信息（有些公司以高管相关信息作为密码）

   2. xxx xxxx.   //xxxx@xxxx.xxx

      



### 暴力破解流程：

**推荐自己写，推荐用go语言写**

![image-20250310111528831](https://gitee.com/PUqicnda/img/raw/master/20250310111528888.png)



面试题：如果暴力破解的时候，一个账号被限制了访问次数，该如何做？

答：密码喷洒，用一个指定密码批量获取用户

> AI回答：
>
> ### 1. **延迟尝试**
>
> - **策略**：在每次尝试之间增加延迟，模拟正常用户行为。
> - **实现**：在脚本中设置 `sleep()` 函数，延迟几秒或几分钟再进行下一次尝试。
>
> ### 2. **切换IP地址**
>
> - **策略**：使用代理服务器或VPN切换IP地址，绕过IP限制。
> - **实现**：配置脚本通过不同的代理服务器发送请求，或使用Tor网络隐藏真实IP。
>
> ### 3. **使用账号列表**
>
> - **策略**：准备多个账号，轮流尝试，避免单一账号被锁定。
> - **实现**：在脚本中读取账号列表，依次尝试不同的账号。
>
> ### 4. **分析锁定机制**
>
> - **策略**：研究目标系统的锁定机制，如锁定时间、解锁条件等。
> - **实现**：通过测试了解锁定规则，调整尝试频率和策略。
>
> ### 5. **利用漏洞**
>
> - **策略**：寻找目标系统的安全漏洞，如未限制的API接口或弱验证机制。
> - **实现**：进行安全测试，发现并利用漏洞绕过限制。
>
> ### 6. **社会工程学**
>
> - **策略**：通过钓鱼邮件或伪装身份获取账号信息。
> - **实现**：设计钓鱼攻击，诱骗用户提供账号信息。
>
> ### 7. **分布式攻击**
>
> - **策略**：使用多个设备或僵尸网络同时尝试，分散请求。
> - **实现**：配置多个攻击节点，协调进行分布式攻击。
>
> ### 8. **密码策略分析**
>
> - **策略**：分析目标系统的密码策略，生成更有效的密码字典。
> - **实现**：收集目标信息，优化密码字典，提高破解效率。
>
> ### 9. **使用工具**
>
> - **策略**：使用自动化工具如Hydra、Burp Suite等，配置绕过限制的参数。
> - **实现**：学习并配置工具，设置延迟、代理等参数。
>
> ### 10. **合法途径**
>
> - **策略**：通过合法手段获取访问权限，如联系管理员或使用备用验证方式。
> - **实现**：与系统管理员沟通，申请访问权限或重置密码。
>
> ### 注意事项
>
> - **法律风险**：未经授权的暴力破解是违法行为，可能导致法律后果。
> - **道德问题**：尊重他人隐私和数据安全，避免非法入侵。
> - **技术挑战**：现代系统通常有完善的安全措施，暴力破解难度大。





### 防护措施

![image-20250310112844529](https://gitee.com/PUqicnda/img/raw/master/20250310112844578.png)

双因子认证高很多



### CSRF漏洞原理

![image-20250310113233927](https://gitee.com/PUqicnda/img/raw/master/20250310113233984.png)

![image-20250310114203053](https://gitee.com/PUqicnda/img/raw/master/20250310114203123.png)